# changelister

[![License](https://img.shields.io/github/license/utrescu/changelister)](LICENSE)
[![Language](https://img.shields.io/github/languages/top/utrescu/changelister)](https://github.com/utrescu/changelister)
[![GitHub stars](https://img.shields.io/github/stars/utrescu/changelister?style=social)](https://github.com/utrescu/changelister/stargazers)

## Overview

**changelister** is a tool designed to help you generate, track, and manage changelogs for your projects with commits in [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/)

- Versions are defined by tags
- Commits not adhered to Conventional Commits are ignored

It automates the process of listing changes between releases, making it easy for developers and users to stay up-to-date with the latest updates.

## Features

- Automatically generate changelogs from commit history
- Customize changelog output format
- Filter commits by tags, authors, or date range
- Easy integration into CI/CD pipelines

## Installation

You can install **changelister** using the following methods:

### From Source

Do you need to install the Go compiler

```bash
git clone https://github.com/utrescu/changelister.git
cd changelister

go build -o changelister main.go 
```

### Download a binary release

See Releases page

## Usage

Basic usage example. To create the full Changelog in the current directory

```bash
./changelistener
```

You can provide the path to the repository

```bash
./changelistener --path [path to repo]
```

Or create a ChangeLog from one single Tag

## Configuration

You can configure **changelister** using command-line flags or a configuration file. Common options include:

- `--path`: path to the Git repository. Current directory if not defined
- `--tags`: Tag to generate Changelog (all tags if empty or not provided)
- `--templatefile`: Template to use for generating the changelog (default `changelister.yml`)

The file configuration is located in this order:

- Current folder
- `$XDG_CONFIG_HOME/changelister` if is defined
- `$HOME/.config/changelister`

The basic configuration can be provided in a YAML file named `config.yaml`. If the file is not
found, a default configuration is provided

```yaml
# Configuració per al programa changelister

# Tag for Commits that do not belong to any tag
defaultTag: "Unversioned"

# Type of conventional commit types to put in changelog and how they
# are grouped in the Changelog.
# Commented types are not added to the changelog file
commitTypes:
  show:
    feat: "Added"
    fix: "Fixed"
    refactor: "Changed"
    docs: "Added"
    doc: "Added"
    # chore: "Other"
    # style: "Other"
    # perf: "Other"
    # test: "Other"
    # build: "Other"
    # ci: "Other"
    # revert: "Other"

```

## Templates

The Change log is generated using the `template/text` format.

The name of the template can be provided via command line:

```bash
changelister --template foo.tmpl
```

The file is searched in the folders with this precedence:

- Current folder
- `$XDG_DATA_DIR/changelister` if is defined
- `$HOME/.local/share/changelister` folder

### Templates creation

Templates are provided to the appropriate functions either as string or as “raw
string”. Actions represents the data evaluations, functions or control loops. 
They’re delimited by `{{ }}`. Other, non-delimited parts are left untouched.

- To obtain data the `{{ .FieldName }}` will replace it with FieldName value of given struct.
- The {{.}} action refers to a value of non-struct types.
- Conditionals: `{{if .FieldName}} ... {{end}}`
- Loops: `{{ range .Member}} ... {{end}}`
- Actions have built-in functions and Pipelines to additionally parse output. 
- Templates can use internal variables: ex. `$value`.

Search `golang template/text` for more info.

#### Program field names

The FieldNames defined in the program are a **list** of tags:

| FieldName | Content                          |
|-----------|----------------------------------|
| Tag       | Tag of the repository            |
| Message   | Tag message                      |
| Date      | Tag creation date                |
| Commits   | List of commits grouped by label |

Each commit have some FieldNames:

| FieldName | Content                              |
|-----------|--------------------------------------|
| Type      | Type of the commit (feat, docs, ...) |
| Header    | Message of the commit header         |
| Scope     | Commit scope                         |
| Body      | Commit Body                          |
| Author    | Commit Author                        |
| DateTime  | Commit Date                          |
| Important | The Commit is a breaking change?     |
| Group     | Commit Group text                    |

Example: List Repository Git Tags (With the Unversioned text):

```jinja
{{ range . }}
Label name: {{ .Label }}
{{ end }}
```

## Example

Here is a sample changelog generated by changelister with the default template (commits in the repository are in catalan):

```markdown
# Changelog

Canvis al repositori que shan anat produint durant les diferents versions del
programa.

## [Unversioned]


### Added

- Defineix com s'agrupen els tipus de commits
- Carrega la configuració de fitxers i ENV
- Afegeix data i missatge al TagInfo
- Afegeix l'estructura de configuració

### Changed

- Només imprimeix la data de la versió si n'hi ha
- Processa els commits en el mòdul
- Emplena autori datetime a CommitData
- Millora els processat

### Fixed

- Si no hi ha etiquetes també genera resultats

```

## Contributing

Contributions are welcome! Please open issues or submit pull requests on [GitHub](https://github.com/utrescu/changelister).

## License

This project is licensed under the [MIT License](LICENSE).

## Support

If you encounter any issues or have questions, feel free to open an issue on GitHub.

## Author

Created and maintained by [utrescu](https://github.com/utrescu).
